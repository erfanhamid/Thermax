@model List<BEEERP.Models.Notification.UserNotification>
@{
    ViewBag.Title = "ShowNotification";
}

<style>
    tbody tr:hover {
        background-color: dodgerblue;
        color: white;
    }
</style>


<div class="content">
    <div class="row">
        <div class="form-horizontal">
            <div class="box-body">
                <div class="col-md-8">
                    <div class="box ">
                        <div class="box-header with-border box-head-back">
                            <h3 class="box-title">ALL Notification</h3>
                        </div>
                        <div class="box-body">
                            <table class="table table-responsive">
                                <thead>
                                    <tr>
                                        <th><input type="checkbox" /></th>
                                        <th>Transaction No</th>
                                        <th>Title</th>
                                        <th>Details</th>
                                        <th>Posting Date</th>
                                        <th>Type</th>

                                    </tr>
                                </thead>
                                <tbody>
                                    @foreach (var item in Model)
                                    {

                                        if (item.Type == "OrderEntry")
                                        {
                                            <tr class='clickable-row' data-href='@Url.Action("SalesEntry", "Sales",new { orderNo =item.TransactionNo, type = item.Type})'>
                                                <td><input type="checkbox" /></td>
                                                <td>@item.TransactionNo</td>
                                                <td>@item.NotificationHead</td>
                                                <td>@item.NotificationDetails</td>
                                                <td>@item.PostingDate</td>
                                                <td>Order Entry</td>
                                            </tr>
                                        }
                                        else if (item.Type == "SalesEntry")
                                        {
                                            <tr class='clickable-row' data-href='@Url.Action("SalesEntry", "Sales",new {invoiceNo=item.TransactionNo, type = item.Type })'>
                                                <td><input type="checkbox" /></td>
                                                <td>@item.TransactionNo</td>
                                                <td>@item.NotificationHead</td>
                                                <td>@item.NotificationDetails</td>
                                                <td>@item.PostingDate</td>
                                                <td>Sales Entry</td>
                                            </tr>
                                        }
                                        else if (item.Type == "SalesReturnEntry")
                                        {
                                            <tr class='clickable-row' data-href='@Url.Action("SalesReturn", "SalesReturn",new {rvno=item.TransactionNo, type = item.Type })'>
                                                <td><input type="checkbox" /></td>
                                                <td>@item.TransactionNo</td>
                                                <td>@item.NotificationHead</td>
                                                <td>@item.NotificationDetails</td>
                                                <td>@item.PostingDate</td>
                                                <td>Sales Return Entry</td>
                                            </tr>

                                        }
                                        else if (item.Type == "RVEntry")
                                        {
                                            <tr class='clickable-row' data-href='@Url.Action("ReceiveVoucher", "ReceiveVoucher",new {rvno=item.TransactionNo, type = item.Type })'>
                                                <td><input type="checkbox" /></td>
                                                <td>@item.TransactionNo</td>
                                                <td>@item.NotificationHead</td>
                                                <td>@item.NotificationDetails</td>
                                                <td>@item.PostingDate</td>
                                                <td>RV Entry</td>
                                            </tr>

                                        }
                                        else if (item.Type == "PVEntry")
                                        {
                                            <tr class='clickable-row' data-href='@Url.Action("PaymentVoucher", "PaymentVoucher",new {pvno=item.TransactionNo, type = item.Type })'>
                                                <td><input type="checkbox" /></td>
                                                <td>@item.TransactionNo</td>
                                                <td>@item.NotificationHead</td>
                                                <td>@item.NotificationDetails</td>
                                                <td>@item.PostingDate</td>
                                                <td>PV Entry</td>
                                            </tr>

                                        }
                                        else if(item.Type == "JVEntry")
                                        {
                                            <tr class='clickable-row' data-href='@Url.Action("JournalVoucher", "JournalVoucher",new {jvno=item.TransactionNo, type = item.Type })'> 
                                                <td><input type="checkbox" /></td>
                                                <td>@item.TransactionNo</td>
                                                <td>@item.NotificationHead</td>
                                                <td>@item.NotificationDetails</td>
                                                <td>@item.PostingDate</td>
                                                <td>JV Entry</td>
                                            </tr>
                                        }
                                        else if(item.Type == "FTVEntry")
                                        {
                                            <tr class='clickable-row' data-href='@Url.Action("FundTransferVoucher", "FundTransferVoucher",new {ftvno=item.TransactionNo, type = item.Type })'> 
                                                <td><input type="checkbox" /></td>
                                                <td>@item.TransactionNo</td>
                                                <td>@item.NotificationHead</td>
                                                <td>@item.NotificationDetails</td>
                                                <td>@item.PostingDate</td>
                                                <td>FTV Entry</td>
                                            </tr>
                                        }
                                        else if(item.Type == "MRVEntry")
                                        {
                                            <tr class='clickable-row' data-href='@Url.Action("MoneyRequisitionVoucher", "MoneyRequisitionVoucher",new {mrvno=item.TransactionNo, type = item.Type })'> 
                                                <td><input type="checkbox" /></td>
                                                <td>@item.TransactionNo</td>
                                                <td>@item.NotificationHead</td>
                                                <td>@item.NotificationDetails</td>
                                                <td>@item.PostingDate</td>
                                                <td>MRV Entry</td>
                                            </tr>
                                        }
                                        else if(item.Type == "MRVAEntry")
                                        {
                                            <tr class='clickable-row' data-href='@Url.Action("MoneyRequisitionVA", "MoneyRequisitionVA",new {mrvano=item.TransactionNo, type = item.Type })'> 
                                                <td><input type="checkbox" /></td>
                                                <td>@item.TransactionNo</td>
                                                <td>@item.NotificationHead</td>
                                                <td>@item.NotificationDetails</td>
                                                <td>@item.PostingDate</td>
                                                <td>MRVA Entry</td>
                                            </tr>
                                        }
                                        else if(item.Type == "MRREntry")
                                        {
                                            <tr class='clickable-row' data-href='@Url.Action("MRRefund", "MRRefund",new {mrrno=item.TransactionNo, type = item.Type })'> 
                                                <td><input type="checkbox" /></td>
                                                <td>@item.TransactionNo</td>
                                                <td>@item.NotificationHead</td>
                                                <td>@item.NotificationDetails</td>
                                                <td>@item.PostingDate</td>
                                                <td>MRVA Entry</td>
                                            </tr>
                                        }
                                    }

                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

@section scripts{
    <script>
        $(document).ready(function () {
            $(".clickable-row").on('click', function (e) {
                var $cell = $(e.target).closest('td');
                if ($cell.index() > 0) {
                    window.open($(this).attr("data-href"), "_blank");
                }

            });
        });

    </script>
}